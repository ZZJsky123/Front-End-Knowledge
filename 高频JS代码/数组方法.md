## j数组方法

####    1. 创建数组

```javascript
1. 构造函数Array
   let arr1 = Array(3);   // 创建一个维数为3的数组
   let arr2 = Array(1,2,3);   // 创建数组，其内容是[1,2,3]

2. Array.of()
   let arr1  = Array.of(3);   // 创建一个一维数组 [3]
   let arr2 = Array.of(1,2,3);  

3. Array.from()
   let arr1 = Array.from(类数组对象)  // arguments、字符串、set字符集
```

   #### 2. 添加元素

```javascript
1. push()方法
 arr1.push(1)
 arr1.push(1,2,3,4)
 arr1.push(...[1,2,3,4])
 
2. concat
let arr_new = arr1.concat([1,2,3,4]） // 拼接连个数组

3. splice  删除并添加
arr1.splice(index, 数量，add1,add2...) // index必需，删除项目位置；数量，删除项目的数量

4. fill  指定值填充数组
arr1.fill(value, 填充的开始位置=0，填充结束=end)
arr1 = [1,2,3,4];
arr1.fill(0,0,1)   out: [0,2,3,4]

5. Array.unshift()  //组开头添加新的元素，并返回长度
arr1 = [1,2,3,4]
let a = arr1.unshift('1',0)
out: ['1'，0,1,2,3,4]
```

#### 3. 删除元素

```javascript
1. splice 原地删除

2. Array.shift() 原地删除第一个数组元素，其它元素左移
   let head = Array.shift()

3. Array.pop() 删除数组最后一个元素并返回 
```

#### 4. 子数组提取

```
1. Array.slice(start=0,end=length)  // 浅拷贝

let arr2 = [1,2,3,4]
    arr2 = arr2.slice(0,2)  // 不包括最后一个
out: arr2: [1,2]

```

#### 5. 数组查找

```
Array.indexof(value)    //  按值查找，返回索引值，从左至右，  找不到返回-1
   
Array.lastindexof(value)  // 按值查找，返回索引值，从右向左   找不到返回-1

Array.includes(value)    // 含有返回true，不含返回false

Array.find(cb)        // 找到返回元素值，找不到返回undefined

Array.findindex(cb)   // 找到返回元素索引，找不到返回undefined

```

#### 其它方法

```javascript
Array.reverse()  // 数组反转

Array.sort()     // 数组排序

Array.join()    // 指定分隔符，将数组元素拼接转为字符串
```

#### 数组遍历的方法

```javascript
ES5 ： forEach、map、reduce、every、some

forEach： 
定义： 按照升序为每一次值调用一次回调函数
Array.forEach(function(value,index,arr)，thisvalue=undefined)

every:
定义：用于检测数组中所有元素都符合函数定义的条件,若符合返回true，否则返回false
Array.every(function(value,index,arr)，thisvalue=undefined)

some：
定义： 用于检测数组中只要有满足条件的value返回true
Array.some(function(value,index,arr))

map: 对数组中每个元素进行处理，并返回新的数组
let arr2 = arr1.map(function(value,index,arr),thisvalue = undefined)

reduce: 定义一个累加器，对数组所有元素调用相同的回调函数进行累加操作，方向是从左至右
Array.reduce(function(total,currentvalue,index,arr),initvalue) // initvalue: 初次调用时，指定total
1. initvalue 被定义： total初始值=initvalue
                     currentvalue = arr[0]
2. initvalue 未被定义： arr.length==1?  return arr[0]:total=arr[0]; currentvalue = arr[1] 

```



#### 方法实现

> 利用送进去的回调函数，遍历数组元素执行
>
> forEach 方法： 1. 首先判断数组是否为空  2. 第一个参数是否为函数，不是返回TypeError错误

```javascript
1. forEach()

Array.prototype.myforEach = function(callback,thisvalue=undefined){
     if (typeof callback !== 'function'){
         throw new TypeError('callback must be function');
     }
     
     for(let i = 0; i<this.length;i++){
        callback.call(thisvalue,this[i],i,this);
     }
}

2. map
Array.prototype.mymap = function(cb, thisvalue=undefined){
    if (typeof callback !== 'function'){
         throw new TypeError('callback must be function');
    let res =[];
      
        
    for(let i=0; i<this.length;i++){
       res.push(cb.call(thisvalue,this[i],i,this))
   }
    return res;
}
    
3. reduce
Array.prototype.myreduce = function(callback,initvalue){
    if (typeof callback !== 'function'){
         throw new TypeError('callback must be function');
    if (this.length < 0){
        throw new TypeError('')
    }
    if (this.length ===1 && typeof initvalue === 'undefined'){
        return this[0]
    }
    if (typeof initvalu === 'undefined'){
        total = this[0];
        for (let i =1;i<length;i++){
            total = callback(total,this[i],i)
        }
    }else{
        total = initvalue;
        for (let i =0;i<length;i++){
            total = callback(total,this[i],i)
        }
    }
}
// reduce 精简
    function reduce(arr, cb, initialValue){
     var num = initValue === undefined? arr[0]: initValue;
     let i = initValue === undefined? 1: 0
     for (i; i< arr.length; i++){
        num = cb(num,arr[i],i)
     }
     return num
 }
```

