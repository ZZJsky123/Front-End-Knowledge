## 节流

| 什么是节流： 事件回调触发后延时n秒执行， n秒之内重复触发无效

| 节流的应用场景： 监听鼠标点击事件，一段时间内只触发一次。例如表单提交按钮，单位时间内只触发一次

​                                  滑动到底部加载更多时，使用节流函数某一个时间内只触发一次

| 总结： 节流函数使高频触发的回调函数在某一时间段内只被触发一次，重复触发无效。

```javascript
function throttle(fn, delay) {
    var timer;
    return function () {
        var _this = this;
        var args = arguments;
        if (timer) {
            return;
        }
        timer = setTimeout(function () {
            fn.apply(_this, args);
            timer = null; // 在delay后执行完fn之后清空timer，此时timer为假，throttle触发可以进入计时器
        }, delay)
    }
}
```



| 防抖和节流都是对高频执行的事件回调函数进行执行次数限制，不同的是在规定时间内回调重复触发会对计时时间进行重新刷新，类似于读条技能，触发后进行读条若重复触发则进行重新读条； 节流是忽略重复触发的回调函数，与游戏中的技能硬直效果相似，触发技能后进入硬直状态一段时间内无法重复触发该技能。